{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Lopes\\\\Desktop\\\\NovaFuture4\\\\Vitor-Lopes\\\\semana8\\\\astro-match\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Lopes\\\\Desktop\\\\NovaFuture4\\\\Vitor-Lopes\\\\semana8\\\\astro-match\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Lopes\\\\Desktop\\\\NovaFuture4\\\\Vitor-Lopes\\\\semana8\\\\astro-match\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Lopes\\\\Desktop\\\\NovaFuture4\\\\Vitor-Lopes\\\\semana8\\\\astro-match\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Lopes\\\\Desktop\\\\NovaFuture4\\\\Vitor-Lopes\\\\semana8\\\\astro-match\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lopes\\\\Desktop\\\\NovaFuture4\\\\Vitor-Lopes\\\\semana8\\\\astro-match\\\\src\\\\containers\\\\SwipeScreen\\\\index.js\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport UserSwipeCard from '../../components/UserSwipeCard';\nimport { AppBar } from '../../components/AppBar';\nimport { ButtonsWrapper, ContentWrapper, SwipeScreenWrapper, MatchIcon, OptionButton } from './styled';\nimport { connect } from 'react-redux';\nimport { mdiAccountMultipleCheck } from '@mdi/js';\nimport { swipeLeft, swipeRight } from '../../components/UserSwipeCard/styled';\nimport { updateCurrentPage } from '../../actions/route';\nimport { Loader } from '../../components/Loader';\nimport { fetchProfile } from '../../actions/profiles';\nexport var SwipeScreen =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SwipeScreen, _Component);\n\n  function SwipeScreen(props) {\n    var _this;\n\n    _classCallCheck(this, SwipeScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SwipeScreen).call(this, props));\n\n    _this.onChooseOption = function (option) {\n      return function () {\n        var currentAnimation = option === 'dislike' ? swipeRight : swipeLeft;\n\n        if (_this.state.currentAnimation === null) {\n          _this.setState({\n            currentAnimation: currentAnimation\n          });\n        }\n\n        if (_this.props.profileToSwipe) {\n          _this.props.chooseProfile(_this.props.profileToSwipe.id, option === 'like');\n        }\n      };\n    };\n\n    _this.state = {\n      currentAnimation: null\n    };\n    return _this;\n  }\n\n  _createClass(SwipeScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.profileToSwipe && this.props.getProfileToSwipe) {\n        this.props.getProfileToSwipe();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (prevProps.profileToSwipe !== this.props.profileToSwipe) {\n        this.setState({\n          currentAnimation: null\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          profileToSwipe = _this$props.profileToSwipe,\n          goToMatchScreen = _this$props.goToMatchScreen;\n      var currentAnimation = this.state.currentAnimation;\n      return React.createElement(SwipeScreenWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        rightAction: React.createElement(MatchIcon, {\n          size: 1.5,\n          path: mdiAccountMultipleCheck,\n          onClick: goToMatchScreen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(ContentWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, currentAnimation !== null && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), profileToSwipe ? React.createElement(UserSwipeCard, {\n        userToSwipe: profileToSwipe,\n        animationDirection: currentAnimation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }) : React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(ButtonsWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(OptionButton, {\n        onClick: this.onChooseOption('dislike'),\n        option: \"dislike\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"X\"), React.createElement(OptionButton, {\n        onClick: this.onChooseOption('like'),\n        option: \"like\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\u2665\\uFE0F\"))));\n    }\n  }]);\n\n  return SwipeScreen;\n}(Component);\nSwipeScreen.propTypes = {\n  goToMatchScreen: PropTypes.func.isRequired,\n  chooseProfile: PropTypes.func.isRequired,\n  getProfileToSwipe: PropTypes.func.isRequired,\n  profileToSwipe: PropTypes.object\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    profileToSwipe: state.profiles.profile\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    goToMatchScreen: function goToMatchScreen() {\n      return dispatch(updateCurrentPage('MatchScreen'));\n    },\n    getProfileToSwipe: function getProfileToSwipe() {\n      return dispatch(fetchProfile());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SwipeScreen);","map":{"version":3,"sources":["C:/Users/Lopes/Desktop/NovaFuture4/Vitor-Lopes/semana8/astro-match/src/containers/SwipeScreen/index.js"],"names":["PropTypes","React","Component","UserSwipeCard","AppBar","ButtonsWrapper","ContentWrapper","SwipeScreenWrapper","MatchIcon","OptionButton","connect","mdiAccountMultipleCheck","swipeLeft","swipeRight","updateCurrentPage","Loader","fetchProfile","SwipeScreen","props","onChooseOption","option","currentAnimation","state","setState","profileToSwipe","chooseProfile","id","getProfileToSwipe","prevProps","prevState","snapshot","goToMatchScreen","propTypes","func","isRequired","object","mapStateToProps","profiles","profile","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport UserSwipeCard from '../../components/UserSwipeCard'\nimport { AppBar } from '../../components/AppBar'\nimport { ButtonsWrapper, ContentWrapper, SwipeScreenWrapper, MatchIcon, OptionButton } from './styled'\nimport { connect } from 'react-redux'\nimport { mdiAccountMultipleCheck } from '@mdi/js'\nimport { swipeLeft, swipeRight } from '../../components/UserSwipeCard/styled'\nimport { updateCurrentPage } from '../../actions/route'\nimport { Loader } from '../../components/Loader'\n\nimport { fetchProfile } from '../../actions/profiles'\n\n\nexport class SwipeScreen extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcurrentAnimation: null,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.props.profileToSwipe && this.props.getProfileToSwipe) {\n\t\t\tthis.props.getProfileToSwipe()\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (prevProps.profileToSwipe !== this.props.profileToSwipe) {\n\t\t\tthis.setState({ currentAnimation: null })\n\t\t}\n\t}\n\n\tonChooseOption = (option) => () => {\n\t\tlet currentAnimation = option === 'dislike' ? swipeRight : swipeLeft\n\n\t\tif (this.state.currentAnimation === null) {\n\t\t\tthis.setState({ currentAnimation: currentAnimation })\n\t\t}\n\n\t\tif (this.props.profileToSwipe) {\n\t\t\tthis.props.chooseProfile(this.props.profileToSwipe.id, option === 'like')\n\t\t}\n\t}\n\n\trender() {\n\n\t\tconst { profileToSwipe, goToMatchScreen } = this.props\n\t\tconst { currentAnimation } = this.state\n\n\t\treturn (\n\t\t\t<SwipeScreenWrapper>\n\t\t\t\t<AppBar\n\t\t\t\t\trightAction={<MatchIcon\n\t\t\t\t\t\tsize={1.5}\n\t\t\t\t\t\tpath={mdiAccountMultipleCheck}\n\t\t\t\t\t\tonClick={goToMatchScreen}\n\t\t\t\t\t/>}\n\t\t\t\t/>\n\t\t\t\t<ContentWrapper>\n\t\t\t\t\t{currentAnimation !== null && (<Loader />)}\n\t\t\t\t\t{profileToSwipe ? <UserSwipeCard\n\t\t\t\t\t\tuserToSwipe={profileToSwipe}\n\t\t\t\t\t\tanimationDirection={currentAnimation}\n\t\t\t\t\t/> : (<Loader />)}\n\t\t\t\t\t<ButtonsWrapper>\n\t\t\t\t\t\t<OptionButton onClick={this.onChooseOption('dislike')} option=\"dislike\">X</OptionButton>\n\t\t\t\t\t\t<OptionButton onClick={this.onChooseOption('like')} option=\"like\">♥️</OptionButton>\n\t\t\t\t\t</ButtonsWrapper>\n\t\t\t\t</ContentWrapper>\n\t\t\t</SwipeScreenWrapper>\n\t\t)\n\t}\n}\n\nSwipeScreen.propTypes = {\n\tgoToMatchScreen: PropTypes.func.isRequired,\n\tchooseProfile: PropTypes.func.isRequired,\n\tgetProfileToSwipe: PropTypes.func.isRequired,\n\tprofileToSwipe: PropTypes.object,\n}\n\nconst mapStateToProps = (state) => ({\n\tprofileToSwipe: state.profiles.profile\n})\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tgoToMatchScreen: () => dispatch(updateCurrentPage('MatchScreen')),\n\t\tgetProfileToSwipe: () => dispatch(fetchProfile())\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SwipeScreen)\n"]},"metadata":{},"sourceType":"module"}